<table id="table_id"><thead><tr><th>A</th></tr></thead></table>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
<style> table td {
    text-overflow: ellipsis;
    overflow: hidden;
} </style>
<style> table th {
    text-overflow: ellipsis;
    overflow: hidden;
} </style>
<script type="module">
    // Define the table data
    const data = [];

    const requirements = ['https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js', 'https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js'];

    if (typeof require === 'undefined') {
        // require is not available in Jupyter Lab, VS Code & PyCharm
        function addScript(src) {
            return new Promise((resolve, reject) => {
                var script = document.createElement('script');
                script.onload = resolve;
                script.onerror = reject;
                script.src = src;
                document.head.appendChild(script);
            });
        }

        function load_requirements_and_call_datatable(requirements) {
            if (requirements.length === 0) {
                // Define the dt_args
                let dt_args = {};

                // Input the table data
                dt_args["data"] = data;

                // Display the table
                $(document).ready(function () {
                    $('#table_id').DataTable(dt_args);
                });
            } else {
                let src = requirements.shift();
                addScript(src).then(() => load_requirements_and_call_datatable(requirements))
            }
        }

        load_requirements_and_call_datatable(requirements);
    }
    else {
        let requirements_as_dict = {}
        requirements.forEach(requirement => requirements_as_dict[requirement] = requirement)
        require.config({
            paths: requirements_as_dict
        });

        require([requirements.pop()], function () {
            $(function () {
                // Define the dt_args
                let dt_args = {};

                // Input the table data
                dt_args["data"] = data;

                // Display the table
                $(document).ready(function () {
                    $('#table_id').DataTable(dt_args);
                });
            });
        });
    }
</script>
